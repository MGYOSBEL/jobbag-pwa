<ng-container *ngIf="detailProject$ | async as detailProject; else listTemplate">
  <app-project-detail [project]="detailProject" (goBack)="onBackToList()"></app-project-detail>
</ng-container>
<ng-template #listTemplate>
  <ng-container *ngIf="projects$ | async as projects">
    <div class="container-fluid">
      <div class="row">
        <!-- <button type="button" class="bottom-btn" style="position:fixed">UP/Down</button> -->
        <div class="col-12 px-2">
          <!-- ACTION BAR -->
          <app-project-action-bar [actions]="actionBar" (action)="onAction($event)"
            (filters)="onActionBarFilters($event)" [statusFilter]="statusFilter"
            (selectAll)="onSelectAll($event)"
            ></app-project-action-bar>
        </div>
      </div>
      <div class="row py-3">
        <div class="col-6 px-2">
          <div class="row mb-2 px-5">
            <div class="col text-center" *ngFor="let status of statusFilter" [ngClass]="{'status-selected':statusValue === status}"
                id="status-col" (click)="onStatusChange(status)">
              <p class="status-text" [ngClass]="{'status-selectext':statusValue === status}">{{status}}</p>
            </div>

          </div>
          <!-- PROJECT CARD -->
          <div class="col-12 scroll-host">
            <ng-container *ngIf="projects$ | async as myProjects">
              <app-project-card-list [projects]="myProjects" [masterSelected$]="selectAll$" [reset$]="selectedCard$"
                (checkedProjects)="onProjectChecked($event)" (cardClicked)="onCardClicked($event)" [cardMode]="'WIDE'">
              </app-project-card-list>
            </ng-container>
          </div>
        </div>
        <div class="col-6 px-2">
          <!-- PROJECT PREVIEW -->
          <app-project-preview [userProfileId]="userProfile!.id" [previewProject$]="previewProject$"
            [role]="userProfile.userProfileType" (action)="onPreviewAction($event)" (detail)="viewDetail($event)">
          </app-project-preview>
        </div>
      </div>
    </div>

  </ng-container>
</ng-template>
